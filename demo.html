<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="utf-8" />
    <title>Demo of prependFoldingArrowIcon jQuery plug-in</title>
    <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
    <script type="text/javascript" src="src/jquery-folding-arrow-icon.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" />

    <script type="text/javascript" src="examples.js"></script>
    <link type="text/css" rel="stylesheet" href="examples.css">
    
    <link rel="stylesheet" type="text/css" href="dist/jquery-folding-arrow-icon.css">
    <script type="text/javascript">
        hljs.initHighlightingOnLoad();
        $(function(){
            $("#l1 > li, #l1 ul.folding-arrows > li").prependFoldingArrowIcon();
            $("#chevron > li").prependFoldingArrowIcon({
                closePath: false
            });
            $("#outline > li").prependFoldingArrowIcon({
                viewboxMargin: 2
            });
            $("#custom-arrow > li").prependFoldingArrowIcon({
                graph: [{element: "path", attributes: {"d": "M0,-9 L10,0 L0,10 M-10,0 L8,0"}}],
                viewboxRadius: 10,
                viewboxMargin: 3,
                closePath: false
            });
            $("#custom-arrow-circle > li").prependFoldingArrowIcon({
                graph: [{element: "circle", attributes: {"cx": "0", "cy": "0", "r":"20"}},
                        {element: "path", attributes:{"d": "M0,-9 L10,0 L0,10 M-10,0 L8,0"}}],
                viewboxRadius: 20,
                viewboxMargin: 2,
                closePath: false
            }); 
            
            $("#plus-manual > li").prependFoldingArrowIcon({
                graph: [{element: "line", attributes: {"x1": "-10", "y1": "0", "x2": "10", "y2":"0"}},
                        {element: "line", attributes: {"x1": "0", "y1": "-10", "x2": "0", "y2":"10"}}],
                svgClass: "folding-arrow-icon my-plus",
                viewboxRadius: 10,
                viewboxMargin: 1
            }).setupFoldingArrowIconTransformation({
                svgClass: "folding-arrow-icon my-plus",
                transformations: [{">g": "rotate(45)"}]
            });
            

            $("#plus-preset > li").prependFoldingArrowIcon({
                preset: "plus"
            }).setupFoldingArrowIconTransformation({
                preset: "plus"
            });
            
            $("#plus-minus-preset > li").prependFoldingArrowIcon({
                preset: "plus-minus"
            }).setupFoldingArrowIconTransformation({
                preset: "plus-minus"
            });
            
            $("#plus-circle > li").prependFoldingArrowIcon({
                preset: $.fn.prependFoldingArrowIcon.copyOfPreset("plus")
                .prependToGraph("circle", {"cx": "0", "cy": "0", "r": "17"}),
                viewboxRadius: 17,
                viewboxMargin: 3
            }).setupFoldingArrowIconTransformation({
            	preset: "plus"
            });
            
            var myPlusMinusCirclePreset = $.fn.prependFoldingArrowIcon.copyOfPreset("plus-minus")
                .prependToGraph("circle", {"cx": "0", "cy": "0", "r": "17"})
                .prop("viewboxRadius", 17)
                .prop("viewboxMargin", 3);
            $("#plus-minus-circle > li").prependFoldingArrowIcon({
                preset: myPlusMinusCirclePreset
            }).setupFoldingArrowIconTransformation({
            	preset: myPlusMinusCirclePreset
            });

            
            $("ul.folding-arrows > li > a, ul.folding-arrows > li > svg.folding-arrow-icon").click(function(){
                openOrCloseLi($(this).parent());
            });
            $("ul.folding-arrows > li:not(.showing) > ul").hide();
            
            $("ul.folding-arrows > li").setupFoldingArrowIconTransformation({
                titleShowing: "fold",
                titleHidden: "show content"
            })
            
            $("#sec1").prependFoldingArrowIcon({
                closePath: false
            }).setupFoldingArrowIconTransformation()
            .click(function(){
                openOrCloseSection($(this));
            });
            
            $("#sec1a").appendFoldingArrowIcon({
                preset: "arrow-up-down",
                closePath: false
            }).setupFoldingArrowIconTransformation()
            .click(function(){
                openOrCloseSection($(this));
            });
            
            $("#sec2").prependFoldingArrowIcon({
                preset: "arrow-up-down",
                closePath: false,
                separator: ""
            }).setupFoldingArrowIconTransformation({
                preset: "arrow-up-down"
            })
            .click(function(){
                openOrCloseSection($(this));
            });
            
            var arrowUpDownInCircle = $.fn.prependFoldingArrowIcon.copyOfPreset("arrow-up-down")
                .prependToGraph("circle", {"cx": "0", "cy": "0", "r": "10"})
                .prop("viewboxRadius", 10)
                .prop("viewboxMargin", 0)
                .prop("closePath", false);
            $("#sec2a, #sec2b").prependFoldingArrowIcon({
                preset: arrowUpDownInCircle,
                separator: ""
            }).click(function(){
                openOrCloseSection($(this));
            });
            
            $("#sec2a").setupFoldingArrowIconTransformation({
                preset: arrowUpDownInCircle
            });
            $("#sec2b").setupFoldingArrowIconTransformation({
                transformations: [{"path": "scale(1 -1)"}]
            });
            
            $("h2.folding-plus-right.x").prependFoldingArrowIcon({
                preset: "plus",
                viewboxMargin: 3,
                separator: ""
            }).setupFoldingArrowIconTransformation({
                preset: "plus"
            })
            .click(function(){
                openOrCloseSection($(this));
            });
            $("#sec4").setupFoldingArrowIconTransformation({
                transformations: [{"line.v": "scale(1 0)"}]
            });
            $("h2.folding-plus-right.minus").prependFoldingArrowIcon({
                preset: "plus-minus",
                viewboxMargin: 3,
                separator: ""
            }).setupFoldingArrowIconTransformation({
                preset: "plus-minus"
            }).click(function(){
                openOrCloseSection($(this));
            });

            $("h2.sec").each(function() {
                $(this).next().hide();
            }).setupFoldingArrowIconTransformation({
                titleHidden: "open section"
            });

            $("#burger").prependFoldingArrowIcon({
                preset: "burger"
            }).setupFoldingArrowIconTransformation({
                preset: "burger"
            }).click(function() {
                openOrClose($("#burger"));
            });
        });
        
        function openOrClose(jqr) {
            return jqr.toggleClass("showing").transformFoldingArrowIcon();
        }
        
        function openOrCloseLi(li) {
            openOrClose(li);
            if (li.is(".showing"))
                $("ul", li).show(500);
            else
                $("ul", li).hide(500);
        }
        
        function openOrCloseSection(h) {
            openOrClose(h);
            if (h.is(".showing"))
                h.next().show(500);
            else
                h.next().hide(500);
        }
    </script>
    
    <style type="text/css"> 
    
        #g1 .folding-arrow-icon path {
            stroke: none;
            fill: silver;
        }
        
        #g1b .folding-arrow-icon path {
            stroke: none;
            fill: #a00
        }
        
        #chevron .folding-arrow-icon path {
            stroke: navy;
            stroke-width: 1;
            fill: none;
            stroke-linecap: round;
        }
        
        #outline .folding-arrow-icon path {
            stroke: navy;
            stroke-width: 1;
            fill: none;
        }
        
        #custom-arrow .folding-arrow-icon path {
            stroke: green;
            stroke-width: 2;
            fill: none;
        }
        #custom-arrow-circle .folding-arrow-icon path, #custom-arrow-circle .folding-arrow-icon circle {
            stroke: green;
            stroke-width: 3;
            fill: none;
        }

        .folding-arrow.showing > svg.folding-arrow-icon.my-plus > g {
            transform: rotate(135deg);
        }
        .my-plus line {
            stroke: navy;
            stroke-width: 2;
        }
        
        
        #plus-preset .plus line, #plus-minus-preset .plus-minus line {
            stroke: #555;
            stroke-width: 3;
        }
        
        ul.plus-circle .folding-arrow-icon line, ul.plus-circle .folding-arrow-icon circle {
            stroke: #555;
            stroke-width: 4;
            fill: none;
        }
        
        h2.folding-arrow .folding-arrow-icon path {
            stroke: navy;
            stroke-width: 2;
            fill: none;
        }
        h2.sec {
            border: 1px solid silver;
            background-color: #eee;
            border-radius: 0.3em;
            padding: 0.2em;
            margin-top: 0;
        }
        h2.folding-arrow + div > :first-child {
            margin-top: 0;
        }
        h2.folding-arrow + div > :last-child {
            margin-bottom: 0;
        }
        h2.folding-arrow + div {
            margin-bottom: 2em;
        }
        /*
            Note: the margins above (no top margin of the h2 itself and no top margin
            for the first child in the hideable content resp no bottom margin for
            the content's last child are chosen in order to enable a smooth folding animation
            by jQuery's show() and hide() methods. Margins in these places would cause "jumps"
            at the start and end of the animation, as the top margin of an element gets usually
            "merged" with the bottom margin of its next sibling, while during the animation they
            add up.
        */
        
        h2.sec.folding-plus-right {
        	color: #555;
        }
        h2.sec.folding-plus-right:hover {
        	color: #33e;
        }
        h2.sec.folding-plus-right .folding-arrow-icon line {
            stroke: #555;
            stroke-width: 3;
            stroke-linecap: round;
        }
        h2.sec.folding-plus-right:hover .folding-arrow-icon line {
        	stroke: #33e;
        }
        h2.sec.folding-plus-right .folding-arrow-icon, 
        #sec2 .folding-arrow-icon, 
        #sec2a .folding-arrow-icon, 
        #sec2b .folding-arrow-icon {
            float: right;
            width: 1em;
            height: 1em;
            margin-top: 0.1em;
        }
        
        #sec4 .folding-arrow-icon.plus > g {
            transform: none;
            transition: none;
        }
        #sec4 .folding-arrow-icon.plus line.v {
            transition: transform 0.7s;
        }
        #sec4.showing .folding-arrow-icon.plus line.v {
            transform: scale(1, 0);
        }
        
        #sec2a .folding-arrow-icon circle, #sec2b .folding-arrow-icon circle {
            stroke: none;
            fill: #007;
        }
        #sec2a .folding-arrow-icon path, #sec2b .folding-arrow-icon path {
            stroke: white;
        }
        
        #sec2b .folding-arrow-icon > g {
            transition: none;
            transform: none;
        }
        #sec2b .folding-arrow-icon path {
            transition: transform 0.5s;
        }
        #sec2b.showing .folding-arrow-icon path {
            transform: scale(1, -1);
        }
        

        #burger .burger-icon {
            width: 40px;
            height: 40px;
        } 
    </style>

</head>
<body>
<h1>Demo of prependFoldingArrowIcon jQuery plug-in</h1>

<h2>Introduction</h2>
<p>When you look at the following examples, you'll most certainly recognize the triangle icons 
used to indicate whether a (sub)section is visible or collapsed/folded. One of the most common
usages of such icons is in hierarchical lists to show list items with sub-lists and the state
of the latter's visibility. For a collapsed sublist, the icon is usually an arrow to the right,
if it's visible, the arrow points down.</p>
<p>Since the actual look of the icon is not the major content of the HTML document, but a 
simply a presentation style, a common way to achieve this is to simply add a class to the 
foldable list item which represents the logical state (open/visible or closed/collaped/folded).
The icon being presentation could simply be added by CSS, e.g. with a rule like
<code>li.open::before(content: url(arrowDown.svg))</code>.</p>
<p>This CSS-only way with external image files has, however, some disadvantages.
Especially the sizing /scaling of the image might be trick, and when opening or closing
the sub list, the image simply gets replaced, so the arrows change without animation.
These were the main reasons for the development of this plug-in:</p>
<p>This plug-in dynamically inserts an inline-SVG image into the HTML. Other than externally
loaded and embedded SVG documents, inline-SVG may be styled by CSS rules of the HTML document.
So you may (and have to) use CSS to size the icon and to define its properties like stroke,
line width, fill color etc.</p>
<p>The plug-in itself doesn't stop there, but is configurable, so you can even (in JavaScript)
define the actual SVG image. The plug-in however provides some default graphics as presets.</p>

<p><em>Please note: This plug-in concentrates on drawing the SVG icon, which may even
be animated with CSS transitions. The actual content-folding is not part of this plug-in.
The following examples add some very simple folding with jQuery's <code>show()</code>
and <code>hide()</code> methods with a delay argument.</em> These show() and hide()
mechanism actually needed some tricky CSS tweaks to really run smoothly (only
for the collapsable secions examples below), please refer to the source code of this page
if interested.</p>


<h2>Foldable list items</h2>

<h3>Defaults</h3>

<p>Let's start the examples with the most common use-case: foldable sub-lists in list items.</p>

<p>For this example, we create a demo HTML list with the following markup:</p>

<pre><code class="language-html">
&lt;ul id="l1" class="folding-arrows"&gt;
    &lt;li id="g1"&gt;&lt;a href="#!"&gt;Test list item&lt;/a&gt;
        &lt;br&gt;
        Second line
        &lt;ul&gt;
            &lt;li&gt;sub&lt;/li&gt;
            &lt;li&gt;list&lt;/li&gt;
        &lt;/ul&gt;
    &lt;/li&gt;
    
    &lt;li id="g1b" class="showing"&gt;
        &lt;a href="#!"&gt;Test list item&lt;/a&gt;
        &lt;br&gt;
        Second line
        &lt;ul class="folding-arrows"&gt;
            &lt;li&gt;sub&lt;br&gt;still sub&lt;/li&gt;
            &lt;li&gt;list&lt;/li&gt;
        &lt;/ul&gt;
        
    &lt;/li&gt;
&lt;/ul&gt;
</code></pre>

<p>This is what it looks like – with the folding arrow icon plugin applied with default settings:</p>

<ul id="l1" class="folding-arrows">
    <li id="g1"><a href="#!">Test list item</a>
        <br>
        Second line
        <ul>
            <li>sub</li>
            <li>list</li>
        </ul>
    </li>
    
    <li id="g1b" class="showing">
        <a href="#!">Test list item</a>
        <br>
        Second line
        <ul class="folding-arrows">
            <li>sub<br>still sub</li>
            <li>list</li>
        </ul>
        
    </li>
</ul>

<p>The examples above demonstrate the default shape of the folding arrow icon, being a closed
triangle pointing to the right resp. down. The javascript to include them is quite simple:</p>

<pre><code class="language-javascript">$("#l1 > li, #l1 ul.folding-arrows > li").prependFoldingArrowIcon();
</code></pre>

<p>This JavaScript alone is not enough, since the inserted SVG is unstyled, so you need
to add some CSS code to define the size and color theme:</p>

<p>This Library already comes with an included CSS file (<code>jquery-folding-arrow-icon.css</code>),
which defines a default size for the images and the transition for rotating the arrow when
the CSS class of the list item changes. Specifically for icons in unordered lists,
it also contains rules which align list items without bullets and with this SVG image
(inline inside the li's content) neatly with other normally bulleted list items.</p>

<p>But including that CSS file still isn't enough, since it does <em>not</em> define
the actual look (colors and line with) of the graphic. That, you' still have to define
on your own (otherwise it will default to a black triangle). This demo actually defines
two different color settings for the first and the second list item:</p>

<pre><code class="language-css">#g1 .folding-arrow-icon path {
    stroke: none;
    fill: silver;
}

#g1b .folding-arrow-icon path {
    stroke: none;
    fill: #a00
}
</code></pre>

<p>Now, you just have to add the class "showing" to a list item if its icon should be
transformed to a down-pointing arrow, removing the class transforms it back into a 
right-pointing arrow. Actually, in the example above, the second list item has been
fitted with a "showing" class statically (see HTML markup shown above), which is why 
it's already unfolded upon page load, while the first is initially folded.</p>

<p>Please note that this jQuery plug-in does <em>not</em> hide or show the actual
sub lists, but concentrates on just providing the animatable triangle icon. The
actual folding has to bee implemented separately (though I'm planning to release
a higher-level jQuery plug-in in the future, which will simplify showing or hiding sections
<em>and</em> adding a class like <code>showing</code>to a switch element in order
to display the folding state like – but not limited to – using this icon plug-in).</p>

<p>This example page uses the following JavaScript code (for the demo above as well
as the following ones) in order to show and hide sub-lists:</p>

<pre><code class="language-javascript">$(function() {
    function openOrClose(jqr) {
        return jqr.toggleClass("showing").transformFoldingArrowIcon();
    }
    
    function openOrCloseLi(li) {
        openOrClose(li);
        if (li.is(".showing"))
            $("ul", li).show(500);
        else
            $("ul", li).hide(500);
    }

    $("ul.folding-arrows > li > a, ul.folding-arrows > li > svg.folding-arrow-icon").click(function(){
        openOrCloseLi($(this).parent());
    });
    $("ul.folding-arrows > li:not(.showing) > ul").hide();
});
</code></pre>

<p>Please note the calling of a further jQuery plug-in function provided by this library:
<code>transformFoldingArrowIcon()</code>. As long as your page is viewed with a browser
that supports transformations via CSS, this plug-in is not needed, since the loaded
default CSS already defines the rotation transformation along with a CSS transition.</p>

<p>Unfortunately, the Microsoft browsers (Edge and Internet Explorer) do not support 
CSS transformations for inline SVG, they require the transformations defined in
tag attributes inside the SVG code. The <code>transformFoldingArrowIcon()</code>
function adds or removes such a transformation attribute depending on the current
state (whether the element has or has not the class "showing"). If called without
parameters, the default transformation is used.</p>

<p>Please note: If both a transition attribute and a CSS transition are defined for the
same SVG element, the CSS transition is used and the attribute is ignored.</p>


<h3>Variations</h3>
<p>Click a variation list item in order to view the description and code samples.</p>
<ul id="outline" class="folding-arrows">
    <li>
        <a href="#!">Outline (closed path)</a>
        <ul>
            <li>This example differs from the default above mainly in the CSS formatting:
                The arrow is not filled, but a stroke is defined:
                <pre><code class="language-css">#outline .folding-arrow-icon path {
    stroke: navy;
    stroke-width: 1;
    fill: none;
}</code></pre>
            </li>
            <li>Also, the JavaScript method gets passed an options object literal with
                exactly one option: <code>viewboxMargin</code>, which defaults to 1,
                is overridden to be 2. This increases the margin around the image inside
                the SVG area a little, because due to the stroke with the triangle icon
                would otherwise be slightly larger than the filled one without stroke, and
                during the rotation transition, the edges of the triangle would exceed
                the visible image area, i.e. be clipped:
                <pre><code class="language-javascript">$("#outline > li").prependFoldingArrowIcon({
   viewboxMargin: 2
});</code></pre>
            </li>
        </ul>
    </li>
</ul>
<ul id="chevron" class="folding-arrows">
    <li>
        <a href="#!">Chevron (unclosed path)</a>
        <ul>
            <li>This example is nearly the same as the outline example before, with two differences:
                <ol>
                    <li>The Javascript omits the larger <code>viewportMargin</code>, resulting
                    in a slightly larger graphic and accepting a slight clipping during the
                    rotation transition, which hardly is noticable in this case (with the closed
                    triangle, it would be easier to notice).</li>
                    <li>Instead, the JavaScript sets the <code>closePath</code> option to false.
                    The triangle arrow is in fact acutally defined as a the chevron path you
                    see here, but the option <code>closePath</code>, which defaults to true,
                    will cause this main path to be closed. This default behaviour is now turned
                    off, resulting in the “raw chevron path” to be drawn.
                    <pre><code class="language-javascript">$("#chevron > li").prependFoldingArrowIcon({
    closePath: false
});</code></pre>
                    </li>
                    <li>Since the path now has to open line ends, we can define the style of those
                    via CSS. Here, rounded line caps have been chosen.
                    <pre><code class="language-css">#chevron .folding-arrow-icon path {
    stroke: navy;
    stroke-width: 1;
    fill: none;
    stroke-linecap: round;
}</code></pre></li>
                </ol>
        </ul>
    </li>
</ul>
<ul id="custom-arrow" class="folding-arrows">
    <li>
        <a href="#!">Defining a custom SVG arrow icon</a>
        <ul>
            <li>Instead of using the default triangle icon, you may define your own SVG code for
                drawing an arrow. The arrow icon above has been defined as follows:</li>
            <li><pre><code class="language-javascript">$("#custom-arrow > li").prependFoldingArrowIcon({
    graph: [{element: "path", attributes: {"d": "M0,-9 L10,0 L0,10 M-10,0 L8,0"}}],
    viewboxRadius: 10,
    viewboxMargin: 3,
    closePath: false
});</code></pre></li>
            <li>Description of the options:
                <ul>
                    <li><code>graph</code> defines the main SVG code. You define an array of SVG elements.
                        Each element of the array is an object with two properties: <code>element</code>
                        defines the element/tag name of the SVG element, and <code>attributes</code>
                        is an object ob key/value pairs defining a list of attributes to insert into
                        that tag.<br>
                        The <code>graph</code> array above thus specifies the following SVG tag:
                        <pre><code class="language-svg">&lt;path d="M0,-9 L10,0 L0,10 M-10,0 L8,0"/&gt;</code></pre>
                    </li>
                    <li>All elements of the <code>graph</code> are internally grouped into one 
                        group element (<code>g</code>).</li>
                    <li>When defining the coordinate values for the path, please note that the
                        origin, i.e. the point (0, 0) is always centered in the generated SVG icon.
                        The <code>viewboxRadius</code> option defines the radius of the viewport,
                        i.e. the visible part of the coordinate system. Acutally the viewport is
                        a square, in this case (radius 10) the point (-10, -10) is the upper left corner
                        and (10, 10) the lower right corner.</li>
                    <li>While the <code>viewboxRadius</code> defines the size of the square area
                        into which the <code>graph</code> shoult fit, the option <code>viewboxMargin</code>
                        defines the width of a margin around that graph.<br>
                        Please note: In this example the path “touches the edges” of the 20x20 square,
                        but since the shape is not filled, but a stroke width is defined, the image
                        is actually a little larger. The <code>viewboxMargin</code> should therefore
                        be at least half the stroke-width!</li>
                    <li>Actually <code>viewboxRadius</code> and <code>viewboxMargin</code> are simply
                        added to define the top left corner and the size of the viewport. 
                        The separation into two options instead of one
                        is simply for better readability/maintainability of the options.</li>
                    <li>The <code>closePath</code> option has already been introduced in an
                        earlier example. If set to true, a <code>z</code> will be appended to
                        every path attribute of the graph, which will add a connecting line
                        between the start point and the end point of the path. In this case,
                        that's not desirable, so it's turned off.</li>
                </ul>
            </li>
            <li>Besides the Script code, we again need some CSS to format the styles of the 
                icon (no filling, but instead a green stroke):</li>
            <li><pre><code class="language-css">#custom-arrow .folding-arrow-icon path {
    stroke: green;
    stroke-width: 2;
    fill: none;
}</code></pre></li>
        </ul>
    </li>
</ul>
<ul id="custom-arrow-circle" class="folding-arrows">
    <li>
        <a href="#!">Adding a circle to the image</a>
        <ul>
            <li>This example is a simple variation of the previous one. The following modifications 
                have been made:
                <ul>
                    <li>The path has been kept unchanged, but a second SVG element has been added
                        to the <code>graph</code> array: a circle around the center coordinate (0, 0)
                        with a radius of 20.</li>
                    <li>In order to include that circle into the visible part of the image (viewport),
                        the <code>viewportRadius</code> is set to the radius of the circle (20).<br>
                        The resulting image has doubled in size. Note that the actual size in the browser
                        is defined by CSS rules and, in this case, stays the same. The 40x40px SVG is simply
                        scaled to fit, so in this case the image gets scaled down, the arrow shrinks.</li>
                    <li>Since the actual image size shrinks by 50%, also the resulting stroke width would
                        be halved. In order to compensate that a litte, the stroke width gets increased via CSS,
                        in this case to 3, the stroke width is now three quarter compared to the
                        previous example.</li>
                    <li>The <code>viewboxMargin</code> should be at least half the stroke width, since 
                        half of the stroke width is applied inside the logical line of the circle, the
                        other half outside (in the margin area). So we set it to 2.</li>
                </ul>
            </li>
            <li><pre><code class="language-javascript">$("#custom-arrow-circle > li").prependFoldingArrowIcon({
    graph: [{element: "circle", attributes: {"cx": "0", "cy": "0", "r":"20"}},
            {element: "path", attributes:{"d": "M0,-9 L10,0 L0,10 M-10,0 L8,0"}}],
    viewboxRadius: 20,
    viewboxMargin: 2,
    closePath: false
});</code></pre>
            </li>
            <li><pre><code class="language-css">#custom-arrow-circle .folding-arrow-icon path, circle {
    stroke: green;
    stroke-width: 3;
    fill: none;
}</code></pre></li>
        </ul>
    </li>
</ul>

<ul id="plus-manual" class="folding-arrows">
    <li>
        <a href="#!">Custom non-circle-image with different transition</a>
        <ul>
            <li><strong>Please note: If you like this example, you don't have to copy it!</strong>
                This demo is only to show you how to use the plug-in's options to create some image
                and transition of your choice. The actual example of the plus icon with 
                a 45-degree-rotation transition is also available as a simple preset, see next example!
            </li>
            <li>Similarly to the previous two examples, this one uses the <code>graph</code> option
                to define the SVG image, this time consisting of two lines forming a plus.
                The <code>viewboxRadius</code> is set to the width resp. height of the horizontal resp.
                vertical line.
            </li>
            <li>The previous examples all inherited the default transformation (rotation of 90°
                to the right) when unfolding the list entry. Like explained above, this is defined in
                two ways:
                <ol>
                    <li>The included CSS file <code>jquery-folding-arrow-icon.css</code> defines
                        the transformation and a transition (animation) by the following rules:
                        <pre><code class="language-css">svg.folding-arrow-icon > g {
  transition: transform 0.5s;
}
.folding-arrow.showing > svg.folding-arrow-icon > g {
  transform: rotate(90deg);
}</code></pre></li>
                    <li>For compatibility with Microsoft Browsers, all these examples call the
                        <code>transformFoldingArrowIcon()</code> plug-in function, see the 
                        <code>function openOrClose(jqr)</code> defined above. This
                        function adds or removes transformation attributes to resp. from 
                        SVG node(s). The default action is to add a 90deg right rotation
                        transformation to the <code>g</code> node, the group holding
                        the entire graph defined by the <code>graph</code> option.
                    </li>
                </ol>
                <em>This</em> example however should <em>not</em> inherit this default 
                transformation, for obvious reasons: a plus sign rotated by 90° looks
                identical to its unrotated form.<br>
                So we want to override both of the mechanisms described above:
                <ol>
                    <li>We use the <code>svgClass</code> option to assign a
                        second class name (<code>my-plus</code>) to the <code>svg</code> element. 
                        Yet, by also keeping the default class name (<code>folding-arrow-icon</code>), 
                        the default rules still apply. <br>
                        Then we add a more specific CSS rule to override just the transformation 
                        definition for elements of our <code>my-plus</code> class, setting the
                        transition to 45 degrees.—Actually, to set this example apart from
                        the preset shown in the next example, let's vary the angle to 135°.
                        The result will look the same, but the transition (animation) looks
                        different, since the plus rotates further and faster.
                    </li>
                    <li>In order to override the transformation attribute definition used
                        by the <code>transformFoldingArrowIcon()</code> plug-in function,
                        we add a <code>setupFoldingArrowIconTransformation()</code> call to
                        the <code>prependFoldingArrowIcon()</code> call. Here we pass two
                        options: 
                        <ul>
                            <li><code>svgClass</code> holds class name used for finding the CSS node inside the
                                list item on which the <code>tronsfromFoldingArrowIcon()</code> function
                                is called. This should normally math the <code>svgClass</code> option passed
                                to <code>prependFoldingArrowIcon()</code>.</li>
                            <li><code>transformations</code> holds an array of key-value-pairs,
                                each of which defines a node selector as key and a the value for the
                                <code>transformation</code> attribute which should be added to the
                                selected node upon unfolding.<br>
                                In this case we define that a rotation of 45 degrees is to be added
                                to the first <code>g</code> node in the CSS DOM, i.e. the group consisting
                                of the two crossed lines.
                                </li>
                        </ul>
                    </li>                           
                </ol>
            </li>
            <li>So, the resulting code for this example looks like this:</li>
            <li><pre><code class="language-javascript">$("#plus-manual > li").prependFoldingArrowIcon({
    graph: [{element: "line", attributes: {"x1": "-10", "y1": "0", "x2": "10", "y2":"0"}},
            {element: "line", attributes: {"x1": "0", "y1": "-10", "x2": "0", "y2":"10"}}],
    svgClass: "folding-arrow-icon my-plus",
    viewboxRadius: 10,
    viewboxMargin: 1
}).setupFoldingArrowIconTransformation({
    svgClass: "folding-arrow-icon my-plus",
    transformations: [{">g": "rotate(45)"}]
});</code></pre></li>
            <li><pre><code class="language-css">.folding-arrow.showing > svg.folding-arrow-icon.my-plus > g {
    transform: rotate(135deg);
}
.my-plus line {
    stroke: navy;
    stroke-width: 2;
}</code></pre></li>
        </ul>
    </li>
</ul>

<ul id="plus-preset" class="folding-arrows">
    <li>
        <a href="#!">Plus-X-Preset</a>
        <ul>
            <li>This example is mostly identical to the previous one (except for different local
                CSS styles), but its simpler to use since it uses a built-in preset to define
                the plus and its rotation instead of defining it locally in the example itself.</li>
            <li>The plug-in contains several presets. A preset can be easily loaded by simply
                using the <code>preset</code> option with the preset name (as string value).</li>
            <li>Since not only the SVG graph itself should apply a preset differing from the 
                default preset (triangle arrow to the right), but also the non-CSS transformation
                for Microsoft browsers IE &amp; Edge, you'll also have to call the 
                <code>setupFoldingArrowIconTransformation()</code> plug-in function with the
                preset defining the transformation (usually simply the same preset name, except
                if you want to combine a graphic from one preset with a transformation from another).</li>
            <li>Please note: Forgetting the <code>setupFoldingArrowIconTransformation</code> won't
                seem to do any bad – as long as you use a browser supporting CSS transformations for SVG.
                (The default transformation and transition for this preset are defined in the bundled
                file <code>jquery-folding-arrow-icon.css</code>.) But if the page is opened in a 
                Microsoft browser, which doesn't yet support CSS transformations, the inline transformations
                defined by this plug-in function will become “alive”. And since the default transition
                is a rotation by 90°, this won't have any visible effect on the plus icon!</li>
            <li>If you can't or don't want to test your page in Internet Explorer or Edge, 
            	you may test the inline transformation attribute in your browser's developer tools by
            	selecting the SVG and disabling the CSS transformation rule for its <code>g</code> node!</li>
            <li><pre><code class="language-javascript">$("#plus-preset > li").prependFoldingArrowIcon({
    preset: "plus"
}).setupFoldingArrowIconTransformation({
    preset: "plus"
});</code></pre></li>
            <li><pre><code class="language-css">#plus-preset .plus line {
    stroke: #555;
    stroke-width: 3;
}</code></pre></li>
        </ul>
    </li>
</ul>

<ul id="plus-minus-preset" class="folding-arrows">
    <li>
        <a href="#!">Plus-Minus-Preset</a>
        <ul>
            <li>This example is mostly identical to the previous one, but this preset
            	defines a different transformation: Instead of rotating the plus icon to
            	form an X, it scales the vertical bar down (with a CSS transition) to
            	zero height, so that only the horizontal bar remains, and thus the plus icon
            	gets transformed into a minus icon.</li>
            <li><pre><code class="language-javascript">$("#plus-preset > li").prependFoldingArrowIcon({
    preset: "plus-minus"
}).setupFoldingArrowIconTransformation({
    preset: "plus-minus"
});</code></pre></li>
            <li><pre><code class="language-css">#plus-minus-preset .plus-minus line {
    stroke: #555;
    stroke-width: 3;
}</code></pre></li>
        </ul>
    </li>
</ul>

<ul id="plus-circle" class="folding-arrows plus-circle">
    <li>
        <a href="#!">Combine preset with circle</a>
        <ul>
        	<li>Further above, we already demonstrated how to create a graph with a circle around an arrow icon.
        		However, that graph had been created from scratch. This example is to demonstrate how to
        		extend the graph of an existing preset.</li>
        	<li>The function <code>$.fn.prependFoldingArrowIcon.copyOfPreset()</code> (not a jQuery plug-in,
        		but a static helper function published in the plug-ins namespace) takes the name of a preset
        		and returns an object of a special PresetCopy class. This object can always be used as
        		argument to the <code>preset</code> option instead of a preset name (string), but before that,
        		you may apply modifications to that preset-copy using its methods.<br>
        		The most important methods are <code>prependToGraph()</code> and <code>appendToGraph()</code>.
        		Remember that the graph is an array of SVG element definitions, and these methods may
        		define further SVG elements which are added to the graph array at its beginning resp. end.
        		They take two arguments: first the element name (tag name), second an object of key-value-pairs
        		defining the attributes to add to that tag.</li>
        	<li>In this case we prepend a circle to the graph. The original preset graph has a radius of 10px,
        		and for the circle we choose a radius of 17px.</li>
        	<li>Now, as already explained in the previous example, the <code>viewboxRadius</code> also has to
        		be enlarged (to 17), and in order to leave some room for the stroke of width 4, we have to
        		define a <code>viewboxMargin</code> of at least 2. For some more tolerance, we choose 3.</li>
        	<li>Note 1: In <em>this</em> example, we directly set these viewBox-options directly in the options object.
        		It's always possible to combine the <code>preset</code> option with "hard-coded" other options,
        		the latter then override the preset's options!</li>
        	<li>Note 2: For the <code>setupFoldingArrowIconTransformations()</code> call we simply use
        		the original preset, since our copy of the preset only overrides the preset's graph,
        		the inherited transformation properties haven't changed and are also applicable on the
        		changed graph (since the added circle does not have to be transformed).</li>
            <li><pre><code class="language-javascript">$("#plus-circle > li").prependFoldingArrowIcon({
	preset: $.fn.prependFoldingArrowIcon.copyOfPreset("plus")
			.prependToGraph("circle", {"cx": "0", "cy": "0", "r": "17"}),
	viewboxRadius: 17,
	viewboxMargin: 3
}).setupFoldingArrowIconTransformation({
	preset: "plus"
});</code></pre></li>
			<li><pre><code class="language-css">ul.plus-circle .plus line, ul.plus-circle .plus circle {
	stroke: #555;
	stroke-width: 4;
	fill: none;
}</code></pre></li>
        </ul>
    </li>
</ul>

<ul id="plus-minus-circle" class="folding-arrows plus-circle">
    <li>
        <a href="#!">Combine preset with circle</a>
        <ul>
        	<li>This example differs from the previous one in two ways:
        		<ol>
        			<li>We copied another preset ("plus-minus" instead of "plus").</li>
        			<li>The main difference is: We don't override the viewbox Properties locally in
        				the plug-in call's options, but directly in the copied preset. That is more elegant,
        				since it provides a consistent new preset with its viewbox perfectly fitting its graph.
        				And this newly created preset may be saved to a variable in order to be re-used in
        				several function calls. (Here, we demonstrate that by passing it to both
        				plug-in calls.)
        			</li>
        		</ol>
        	</li>
            <li><pre><code class="language-javascript">var myPlusMinusCirclePreset = $.fn.prependFoldingArrowIcon.copyOfPreset("plus-minus")
	.prependToGraph("circle", {"cx": "0", "cy": "0", "r": "17"})
	.prop("viewboxRadius", 17)
	.prop("viewboxMargin", 3);
$("#plus-minus-circle > li").prependFoldingArrowIcon({
	preset: myPlusMinusCirclePreset
}).setupFoldingArrowIconTransformation({
	preset: myPlusMinusCirclePreset
});</code></pre></li>
			<li>For styling, we use the very same CSS as in the previous example.</li>
        </ul>
    </li>
</ul>

<h2 class="sec" id="sec1">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<h2 class="sec" id="sec1a">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<h2 class="sec" id="sec2">This is a section header 
</h2>
<div>
    <p>First paragraph of section</p>
</div>


<h2 class="sec" id="sec2a">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<h2 class="sec" id="sec2b">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<h2 class="sec folding-plus-right x" id="sec3">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
    <p>TODO: Note the hover effect</p>
</div>

<h2 class="sec folding-plus-right x" id="sec4">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<h2 class="sec folding-plus-right minus" id="sec4b">This is a section header</h2>
<div>
    <p>First paragraph of section</p>
</div>

<div id="burger"></div>


</body>
</html>
